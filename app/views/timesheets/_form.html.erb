<%= form_with(model: timesheet) do |form| %>
  <% if timesheet.errors.any? %>
    <div class="container">
      <div class="row">
        <div class="col alert alert-danger alert-dismissible fade show mt-3" role="alert">
          <strong>Encontramos <%= pluralize(timesheet.errors.count, "erro") %> ao salvar o formulário.</strong>

          <ul>
            <% timesheet.errors.each do |error| %>
              <li><%= error.full_message %></li>
            <% end %>
          </ul>
          <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
      </div>
    </div>
  <% end %>
  <div class="row g-3 mb-2">
    <div class="col-3 mb-3" >
      <strong><%= form.label "Setor", class: "form-label" %></strong>
      <%= form.collection_select :sector_id, Sector.all, :id, :name, {prompt: "Selecione um setor"}, {class: "form-select"} %>
    </div>
    <table id="table" data-height="500" data-toggle="table" data-height="500" data-pagination="true" data-search-accent-neutralise="true" class="table table-bordered table-striped" >
      <thead>
        <tr>
          <th scope="col">Funcionários</th>
          <th scope="col">Status</th>
        </tr>
      </thead>
      <tbody>
          <%= form.collection_check_boxes :employee_ids, Employee.all, :id, :full_name do |b| %>
          <tr>
            <td><%= b.label(class: "form-check") { b.check_box(class: "form-check-input me-2") + b.text } %></td>
            <td><%= form.select :status, options_for_select([  ["Selecione", ""],  ["presenca", 0], ["falta", 1], ["atestado", 2], ["inss", 3], ["ferias", 4], ["licenca", 5], ["atrasado", 6], ["vacancia", 7], ["antecipada", 8]]), {}, { class: "form-select" } %></td>
            <td></td>
          </tr>
          <% end %>
      </tbody>
    </table>
    <div>
    <%= form.submit 'Salvar', class: 'btn btn-success' %>
  </div>
  </div>

  
  
<% end %>
